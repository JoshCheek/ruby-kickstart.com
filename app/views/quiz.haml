%h1= @quiz.name

%form{ :name => 'quiz_results', :action => "/quizzes/#{@quiz.number}", :method => 'post' }
  - @quiz.each_id_problem_and_index do |id, problem, index|
    %h3= index
    %h2= problem.question
    
    - case problem
    
    
    - when QuizMultipleChoiceProblem
      %ul
        - problem.quiz_options.each do |quiz_option|
          %li
            %input{ :type => "radio", :name => "quiz_results[#{id}]", :value => quiz_option.id }
              = quiz_option.body
              
              
    - when QuizMatchAnswerProblem
      %input{ :type => "text", :name => "quiz_results[#{id}]" }
    
    
    - when QuizPredicateProblem
      %ul
        %li
          %input{ :type => 'radio', :name => "quiz_results[#{id}]", :value => 1  }
            true
        %li
          %input{ :type => 'radio', :name => "quiz_results[#{id}]", :value => 0 }
            false
    
    - else
      - raise "Don't know how to ask #{problem.inspect}"
      
  %input{ :type => 'submit', :value => 'submit' }